          Arweave区块链真的可以实现永久存储吗

    先看下现在云存储行业排名世界第一的亚马逊AWS的S3。对分布式存储技术有一定了解的人都知道，有一个重要的概念，叫做复制因子，简单来说就是一个文件有几个备份。如果一个文件有2个备份，那么加上文件本身，总共就是3个备份。那么这个文件的复制因子就是3。大多数云存储服务商包括亚马逊S3，对大多数普通用户提供的复制因子默认就是3。只有少部分用户会把一些重要文件的复制因子设置为4、5、6或者更高，用户也会因此而支付更高价格的费用。目前，在亚马逊S3上存储文件的价格，大约为：每MB数据，每个月需要0.000023美元，在复制因子是3的情况下。

    再来看Arweave的情况。现在Arweave全网大约1000个节点，每个节点的区块存储率为90%左右。现在进行计算，假设全链总的区块数量为BN（每个区块只统计一次，不包含别的节点上的相同的区块），那么全网1000个节点存储的区块总数为1000*90%*BN（每个区块统计多次，包含每个节点上存储的所有相同区块）。假设每个区块的复制因子平均为RF，那么全网的区块总数为RF*BN。现在，1000*90%*BN=RF*BN，可以得出RF=1000*90%=900。也即Arweave区块链中的区块的复制因子平均为900。这个数量是亚马逊S3的复制因子的300倍，意思就是Arweave全网的存储成本是亚马逊S3的300倍。经过我在网上查找一些对Arweave进行分析的文章，从中找到在Arweave上面存储数据的价格大约为：每MB数据，需要花费大约0.005美元到0.01美元之间。如果按照0.005美元每MB计算的话，用户在Arweave上面存储1MB的数据需要一次性支付0.005美元，相当于在亚马逊S3上面一次性付款0.005/0.000023=217个月，大约18年。也就是说，用户的1MB数据，如果花费相同的费用0.005美元，在亚马逊S3上面可以存储18年，而在Arweave上面，可以永久存储。

    看上去很不错。

    我认为在Arweave区块链实际运行的时候，在以下3种情况下，会有丢失历史区块的可能性：

    1. Arweave采用了recall block机制来检查并且防范历史区块的丢失。然而随着时间的推移，区块总数的增加，每个历史区块被选择成为recall block的概率都在慢慢变小。当很多年过去，区块总数增大到天文数字的时候，每个历史区块被选择成为recall block的概率都会变得相当小。也就是说，丢失历史区块的概率随着时间的推移而逐渐增加，总有一天会达到一个不可忽视的程度。

    2. 节点的收入是以AR来支付的。如果遇到大熊市，AR的币价长期低迷，节点的收入将会降低很多。与此同时，节点还需要存储越来越多的数据。如果扩充存储空间，那么节点的运营成本就需要增加。此时有的节点可能会为了不再增加运营成本，而选择降低区块存储率，从而降低区块的平均复制因子。这样的话，节点不需要增加运营成本，但是节点获得出块权的概率也会同步降低，进一步造成节点的收入降低。总之无论节点怎么选择，结果都是：要么增加成本，要么降低收入，对节点都不利。同时，区块的平均复制因子也下降了，这也会增加丢失历史区块的概率。

    3. 一般情况下，服务器、磁盘这些设备的使用寿命不超过3年到5年。我们按照5年折旧来看，当一个节点运营5年之后，就需要更换机器了。此时节点会评估这5年的盈利情况，如果盈利达不到预期，那么节点很有可能会关机退出运营，此时就是丢失历史区块风险最高的时候。假设此时区块的平均复制因子已经从900降低到了100，那么1000台节点里面如果有10%的节点也就是100个节点选择关机退出，那么此时丢失历史区块的概率是相当不小的。

    综上，我认为Arweave从技术角度来看，实现永久存储是可行的。但是从市场角度来看，就不一定了，这严重依赖于AR的币价，如果遇到一个长达3年5年的大熊市，那么丢失历史区块的可能性还是不小的。而打着永久存储旗号的区块链，如果丢失了历史区块，也就是丢失了数据，这将意味着什么。。。在这里我给Arweave提三个建议：一是把所有区块的数据备份几份到磁带上面去，以防在熊市中节点混乱关机退出的时候丢失历史区块。二是大力推动基于Arweave区块链的DApp生态应用的开发，培养扩大用户群体，从而对AR的币价形成有效的支撑。三是把捐赠基金（Storage Endowment）中的AR，一部分兑换为BTC/ETH，一部分保留为AR，这样可以避免AR的单一币价风险。

    ......

    如果想让数据尽可能的永存，只能依赖或者依附于一些生命力强大的区块链，例如比特币和以太坊。因此我的DApp首先支持了将数据存储到以太坊的区块中。如果将数据存储到Arweave上面，成本会低许多。考虑到这一点，DApp也会支持将数据存储到Arweave上面。只是用户在选择的时候，需要明白，将数据存储在以太坊上，会更加可靠。如何选择，由用户自己决定。

    DApp选择EOS智能合约来存储文章目录，是因为没有别的选择。现在所有的公链中，只有EOS具有“多索引表”这个数据结构。只有拥有这个数据结构，才能实现DApp社交方面的功能。EOS未来的方向，是将自己作为一个去中心化的、公共的关系型数据库，提供数据存储与查询的功能。

