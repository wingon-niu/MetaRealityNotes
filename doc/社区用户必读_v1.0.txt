          社区用户必读

1. 系统功能基本说明

    用户可以使用本DAPP系统发布文章、回复、图片、视频；可以创建个人资料；可以关注别的用户。

    所有的这些数据分别保存在两种位置：
    一：文章、回复、图片、视频，它们本身的数据会以区块链转账交易的备注的形式，保存在BTC、ETH、EOS等等区块链的区块之中，不可以进行修改或者删除，会永久保存在区块链上。如果区块链可以永存，那么这些数据也会永存。
    二：文章、回复、图片、视频，它们的目录数据，都保存在EOS区块链的内存之中。用户的个人资料数据和用户之间互相关注的数据，也保存在EOS区块链的内存之中。

    两种不同位置数据的作用：
    一：保存在BTC、ETH、EOS等等区块链的区块之中的数据，是静态的、不可修改的、不可删除的。
    二：保存在EOS区块链内存中的目录数据、用户个人资料数据、用户关注数据，为用户提供了查询和访问的入口。

2. 社区使用规范

    用户使用本DAPP系统，必须遵守以下规则：
    2.1 不得发布违反世界所有国家相关法律、法规的内容。不得发布违反相关国际条约或者规则的内容。
    2.2 不得发布含有种族歧视的、宗教歧视的、虚假的、欺诈的、泄露他人隐私的、色情淫秽的、暴力血腥的内容。不得发布其他任何非法的或者违反道德的内容。
    2.3 不得发布以消耗EOS区块链内存为目的、没有任何实际意义的垃圾内容。

    如果用户发布的内容违反了上述规则，我们会将这些违规内容的目录数据从EOS区块链的内存中删除。用户通过本DAPP系统，将无法访问这些违规内容。所有保存在EOS区块链内存中的违规数据，都会被删除。

3. 环境依赖：EOS内存

    由于EOS区块链的内存资源是有限并且昂贵的，本DAPP系统拥有的EOS内存在未来的某一天可能会全部用完。如果这个情况出现了，为了让用户发布文章、回复、图片、视频的功能保持继续可用，会有三个方法：
    3.1 用户在进行需要消耗EOS内存的操作时，自己购买所需的EOS内存。
    3.2 项目组为本DAPP系统购买更多的EOS内存。
    3.3 取消用户创建个人资料的功能，取消用户之间互相关注的功能。已有的用户个人资料数据和用户关注的数据，会被删除，从而释放出EOS内存。释放出的EOS内存，用于保存用户发布的新文章、新回复、新图片、新视频的目录数据。
    具体采用哪种方法，到时视情况而定，都有可能。

4. 环境依赖：公链全节点和公共查询API服务

4.1 公链全节点
    组成公链的节点一般有两种：全节点和轻节点。两者的不同之处在于，全节点保存了从创世区块开始到最新区块的所有历史区块数据。而轻节点可能只保存了最近一段时间内的区块，没有保存所有的历史区块。
    用户通过本DAPP系统发布的文章、回复、图片、视频，它们本身的数据分散保存在许多的历史区块中。如果未来某一条区块链只剩下轻节点在运行，全节点一个都没有了，那么用户保存的这些数据有可能丢失。当然，这种情况出现的可能性非常小。
    因此，用户通过本DAPP系统保存在公链区块中的数据不会丢失，依赖于公链必须拥有一定数量的全节点。

4.2 公共查询API服务
    用户通过本DAPP系统查询保存在公链区块中的数据，是通过每笔交易的交易HASH来进行查询的，需要使用相关节点或者服务商提供的公共查询API服务。
    用户通过本DAPP系统查询保存在EOS内存中的数据，也需要使用相关节点或者服务商提供的公共查询API服务。
    如果没有相关节点或者服务商提供的公共查询API服务，那么用户将不能方便快捷地访问本DAPP系统中的数据，而只能使用初始的方法，手动通过区块链浏览器进行相关查询，所有的数据都可以查到，但是效率可能很低。
    未来如果条件允许，我们会自己建立相应的公共查询API服务，为用户提供方便快捷的查询服务。

5. 长数据上链的功能实现原理

    假设一篇文章的长度为十万个字节，超出了区块链转账交易的备注允许的最大长度。
    首先将这篇文章拆分为1000段，每段100个字节。将这1000个段，从1到1000进行编号。
    发送第1笔区块链转账交易，将文章的最后一段也就是第1000段的内容，以"{}文章第1000段内容"的形式，作为本次转账交易的备注，提交上链，然后获取本次转账交易的HASH，记为：HASH1000。
    发送第2笔区块链转账交易，将文章的倒数第二段也就是第999段的内容，与上面获取到的HASH1000连接起来，以"{HASH1000}文章第999段内容"的形式，作为本次转账交易的备注，提交上链，然后获取本次转账交易的HASH，记为：HASH999。
    发送第3笔区块链转账交易，将文章的倒数第三段也就是第998段的内容，与上面获取到的HASH999连接起来，以"{HASH999}文章第998段内容"的形式，作为本次转账交易的备注，提交上链，然后获取本次转账交易的HASH，记为：HASH998。
    ......
    ......
    ......
    以此类推，将这1000段文章按照倒过来的顺序，从最后一段开始，一段一段地发送转账交易，直到发送文章的第1段。也就是下面的这个交易：
    发送第1000笔区块链转账交易，将文章的第1段的内容，与前一笔转账交易获取到的HASH2连接起来，以"{HASH2}文章第1段内容"的形式，作为本次转账交易的备注，提交上链，然后获取本次转账交易的HASH，记为：HASH1。
    到此，所有1000段文章的内容都已经上链进入区块。
    将HASH1和一些其它的相关数据保存到EOS内存中，形成这篇文章的目录。本DAPP系统将HASH1称为首HASH。

    用户查看这篇文章的内容时，只需要知道首HASH，也即HASH1。
    通过区块链浏览器，查询HASH1对应的交易，它的交易备注是这样的：{HASH2}文章第1段内容。
    再查询HASH2对应的交易，它的交易备注是这样的：{HASH3}文章第2段内容。
    再查询HASH3对应的交易，它的交易备注是这样的：{HASH4}文章第3段内容。
    再查询HASH4对应的交易，它的交易备注是这样的：{HASH5}文章第4段内容。
    再查询HASH5对应的交易，它的交易备注是这样的：{HASH6}文章第5段内容。
    ......以此类推......
    再查询HASH998对应的交易，它的交易备注是这样的：{HASH999}文章第998段内容。
    再查询HASH999对应的交易，它的交易备注是这样的：{HASH1000}文章第999段内容。
    再查询HASH1000对应的交易，它的交易备注是这样的：{}文章第1000段内容。
    在上述的查询过程中，如果一个交易查询出来的交易备注，是以{}开头的，则说明这个交易备注对应的是文章的最后一段，可以据此停止查询进程。

    上链过程示意如下：(从上往下进行)

    { 此处空的 }文章第1000段  --->  HASH1000          文章的最后一段。
    { HASH 1000}文章第 999段  --->  HASH 999
    { HASH  999}文章第 998段  --->  HASH 998
    { HASH  998}文章第 997段  --->  HASH 997
    { HASH  997}文章第 996段  --->  HASH 996
    ......
    ......
    ......
    { HASH    6}文章第   5段  --->  HASH   5
    { HASH    5}文章第   4段  --->  HASH   4
    { HASH    4}文章第   3段  --->  HASH   3
    { HASH    3}文章第   2段  --->  HASH   2
    { HASH    2}文章第   1段  --->  HASH   1          文章的第1段，将最后的首HASH存入EOS内存。

    查询过程与上链过程相反，从下往上进行，只需要从EOS内存中查询到首HASH，就可以逐个查询，最终得到整篇文章的内容。

    我们将这个长数据上链的方法，称之为"分散逆向链式存储法"。使用此方法，可以将任意长度的数据以区块链转账交易备注的形式，分散保存到多个转账交易的区块中。只需要将首HASH保存在另外一个方便查询的位置，就可以随时通过区块链浏览器查询到这个长数据包含的所有数据。

